<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>FORVIA HUB 2026 FULL</title>
    <style>
        :root { --bg: #0b1120; --card: #1e293b; --accent: #3b82f6; --text: #f3f4f6; --text-dim: #94a3b8; --border: #334155; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Inter', sans-serif; }
        body { background: #0f172a; color: var(--text); margin: 0; padding-bottom: 90px; }
        .header { padding: 25px 20px; background: #111827; border-bottom: 1px solid var(--border); text-align: center; }
        .header h1 { margin: 0; font-size: 1.4rem; color: var(--accent); font-weight: 900; letter-spacing: 2px; }
        .container { padding: 15px; max-width: 600px; margin: 0 auto; }
        .search-input { width: 100%; padding: 16px; background: var(--card); border: 2px solid var(--border); border-radius: 14px; color: white; font-size: 1rem; outline: none; margin-bottom: 20px; }
        .card { background: var(--card); border: 1px solid var(--border); padding: 15px; border-radius: 12px; margin-bottom: 10px; border-left: 4px solid var(--accent); }
        .label { color: var(--text-dim); font-size: 0.75rem; text-transform: uppercase; }
        .val { font-weight: bold; color: #fff; display: block; margin-bottom: 4px; }
        .cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; }
        .cal-day { padding: 8px 2px; text-align: center; border-radius: 8px; font-size: 0.7rem; border: 1px solid rgba(255,255,255,0.05); }
        .nappal { background: #3b82f6; color: white; }
        .ejszaka { background: #1e1b4b; color: #a5b4fc; border: 1px solid #3730a3; }
        .piheno { background: var(--card); opacity: 0.3; }
        .nav { position: fixed; bottom: 0; width: 100%; background: #111827; border-top: 1px solid var(--border); display: flex; justify-content: space-around; padding: 15px 0 25px 0; }
        .nav-item { color: var(--text-dim); text-decoration: none; font-size: 0.8rem; cursor: pointer; }
        .nav-item.active { color: var(--accent); font-weight: bold; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
    </style>
</head>
<body>
    <div class="header"><h1>FORVIA <span style="color:#fff">HUB</span></h1></div>
    <div class="container">
        <div id="tab-search" class="tab-content active">
            <input type="text" onkeyup="fullSearch(this.value)" placeholder="Cikkszám, Model vagy Maszk..." class="search-input">
            <div id="res"></div>
        </div>
        <div id="tab-cal" class="tab-content">
            <div style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <h3>2026 Naptár</h3>
                <select id="shiftSelect" onchange="renderCalendar()" style="background:#1e293b; color:white; border:1px solid #334155; padding:5px; border-radius:5px;">
                    <option value="A">A</option><option value="B">B</option><option value="C">C</option><option value="D">D</option>
                </select>
            </div>
            <div class="cal-grid" id="calContainer"></div>
        </div>
    </div>
    <div class="nav">
        <div class="nav-item active" onclick="showTab('search', this)">KERESŐ</div>
        <div class="nav-item" onclick="showTab('cal', this)">NAPTÁR</div>
    </div>
    <script>
    const bank = `1;111;CH_CPCAP02704A;SPS;Nem;Nincs;-
1;112;CH_CPCAP10104A;SPS;Nem;Nincs;-
1;113;CH_CPCAP10012A;SPS;Nem;Nincs;-
1;114;CH_CPCAP10014A;SPS;Nem;Nincs;-
1;115;CH_CPCAP10455A;SPS;Nem;Nincs;-
1;116;CH_CPCAP10850A;SPS;Nem;Nincs;-
1;117;CH_CPCAP10877A;SPS;Nem;Nincs;-
1;118;CH_CPRES05751A;SPS;Nem;Nincs;-
1;119;CH_CPRES15803A;SPS;Nem;Nincs;-
1;120;CH_CPRES15888A;SPS;Nem;Nincs;-
1;121;CH_CPRES15917A;SPS;Nem;Nincs;-
1;122;CH_CPRES16350A;SPS;Nem;Nincs;-
1;123;CH_CPRES16361A;SPS;Nem;Nincs;-
4;1;CLA_033224115;SQAVM Fuji;-;-;-
4;2;CLA_033471115;SQAVM Fuji;-;-;-
4;3;CLA_033100005;SQAVM Fuji;-;-;-
4;4;CLA_033103115;SQAVM Fuji;-;-;-
4;39;CLA_043471596;SQAVM Fuji;-;-;-
4;40;CLA_119103115;SQAVM Fuji;-;-;-`.split('\n').map(l=>l.split(';'));const ultetes = `CH_CPPCB00072E;PCB_SPS_MB_A_HW04;0;F2;CHSWPCB00116X_A9;
CH_CPCAP10537A;MCASU168SB7103KTNA01;0,0053;F2;CHSWPCB00116X_A9;2
CH_CPCAP10455A;MCASU105SB7103KFNA01;0,0011;F2;CHSWPCB00116X_A9;12
CH_CPCAP02201A;GCJ32EC71H106KA01L;0,5547;F2;CHSWPCB00116X_A9;4
CH_CPCAP02704A;GCJ21BR71H224KA01L;0,1052;F2;CHSWPCB00116X_A9;6
CH_CPCAP10445A;MCASU105SB7104KFNA01;0,0015;F2;CHSWPCB00116X_A9;8
ECE001K00;POWER CONNECTOR 2237122-2 TE;0,295;F1;CHSHWPCB00432C_A9;1
ECE002L00;MINI FAKRA AMS29D-40MZ5-D ROSENBERGER;0,9917;F1;CHSHWPCB00432C_A9;1
ELJ000700;FAKRA 59S2AQ-40MT5-A_1 ROSENBERGER;0,3112;F1;CHSHWPCB00432C_A9;1`.split('\n').map(l=>l.split(';'));

    const maszkok = `1;;2;;3;;4;;5;;6;
1;;1;M1099;21;M1065;41;;61;M0517;97;M0951
2;M0995;2;M1100;22;M1005;42;M1071;62;M0918;98;M0980
3;;3;;23;M1006;43;M0963;63;M0919;99;M1077
4;M0727;4;;24;M1083;44;M0862;64;M0545;100;M1078
5;M0728;5;;25;M1084;45;M1060;65;M0902;101;M0953`.split('\n').map(l=>l.split(';'));

    const muszakok = `2026.01.01;Otthon;Csütörtök;A;;2026.01.01;Otthon;Csütörtök;B;;2026.01.01;Nappal;Csütörtök;C;;2026.01.01;Éjszaka;Csütörtök;D
2026.01.02;Otthon;Péntek;A;;2026.01.02;Otthon;Péntek;B;;2026.01.02;Nappal ;Péntek;C;;2026.01.02;Éjszaka;Péntek;D
2026.01.03;Éjszaka;Szombat;A;;2026.01.03;Nappal;Szombat;B;;2026.01.03;Otthon;Szombat;C;;2026.01.03;Otthon;Szombat;D
2026.01.04;Éjszaka;Vasárnap;A;;2026.01.04;Nappal;Vasárnap;B;;2026.01.04;Otthon;Vasárnap;C;;2026.01.04;Otthon;Vasárnap;D
2026.01.05;Éjszaka;Hétfő;A;;2026.01.05;Nappal;Hétfő;B;;2026.01.05;Otthon;Hétfő;C;;2026.01.05;Otthon;Hétfő;D
2026.01.06;Otthon;Kedd;A;;2026.01.06;Otthon;Kedd;B;;2026.01.06;Nappal;Kedd;C;;2026.01.06;Éjszaka;Kedd;D
2026.01.07;Otthon;Szerda;A;;2026.01.07;Otthon;Szerda;B;;2026.01.07;Nappal;Szerda;C;;2026.01.07;Éjszaka;Szerda;D
2026.01.08;Otthon;Csütörtök;A;;2026.01.08;Otthon;Csütörtök;B;;2026.01.08;Nappal;Csütörtök;C;;2026.01.08;Éjszaka;Csütörtök;D
2026.01.09;Nappal;Péntek;A;;2026.01.09;Éjszaka;Péntek;B;;2026.01.09;Otthon;Péntek;C;;2026.01.09;Otthon;Péntek;D
2026.01.10;Nappal;Szombat;A;;2026.01.10;Éjszaka;Szombat;B;;2026.01.10;Otthon;Szombat;C;;2026.01.10;Otthon;Szombat;D
2026.01.11;Nappal;Vasárnap;A;;2026.01.11;Éjszaka;Vasárnap;B;;2026.01.11;Otthon;Vasárnap;C;;2026.01.11;Otthon;Vasárnap;D
2026.01.12;Otthon;Hétfő;A;;2026.01.12;Otthon;Hétfő;B;;2026.01.12;Nappal;Hétfő;C;;2026.01.12;Éjszaka;Hétfő;D`.split('\n').map(l=>l.split(';'));function fullSearch(val) {
        const res = document.getElementById('res');
        if(val.length < 2) { res.innerHTML = ''; return; }
        const q = val.toUpperCase();
        let h = '';

        // Bank
        bank.filter(r => r[2] && r[2].includes(q)).forEach(r => {
            h += `<div class="card"><span class="label">Bank</span><span class="val">${r[2]}</span><span class="label">Gép/Poz:</span> ${r[0]} / ${r[1]}</div>`;
        });
        // Ültetés
        ultetes.filter(r => r[0] && r[0].includes(q)).forEach(r => {
            h += `<div class="card" style="border-color:#10b981"><span class="label">Ültetés</span><span class="val">${r[0]}</span><span class="label">Info:</span> ${r[1]}</div>`;
        });
        // Maszk
        maszkok.forEach((sor, sIdx) => {
            sor.forEach((cella, oIdx) => {
                if(cella && cella.trim().toUpperCase() === q) {
                    h += `<div class="card" style="border-color:#f59e0b"><span class="label">Maszk</span><span class="val">${cella}</span><span class="label">Hely:</span> ${Math.floor(oIdx/2)+1}. Szekrény / ${sor[oIdx-1]}. Fakk</div>`;
                }
            });
        });
        res.innerHTML = h || '<p style="text-align:center; opacity:0.5">Nincs találat...</p>';
    }

    function renderCalendar() {
        const container = document.getElementById('calContainer');
        const shift = document.getElementById('shiftSelect').value;
        container.innerHTML = '';
        muszakok.forEach(row => {
            let d = null;
            if(shift === 'A' && row[0]) d = { d: row[0], t: row[1] };
            else if(shift === 'B' && row[5]) d = { d: row[4], t: row[5] };
            else if(shift === 'C' && row[9]) d = { d: row[8], t: row[9] };
            else if(shift === 'D' && row[13]) d = { d: row[12], t: row[13] };
            if(d) {
                const cls = d.t.includes('Nappal') ? 'nappal' : (d.t.includes('Éjszaka') ? 'ejszaka' : 'piheno');
                container.innerHTML += `<div class="cal-day ${cls}"><b>${d.d.split('.')[2]}</b><br>${d.t.substring(0,3)}</div>`;
            }
        });
    }

    function showTab(id, el) {
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById('tab-' + id).classList.add('active');
        el.classList.add('active');
        if(id === 'cal') renderCalendar();
    }
    window.onload = () => { renderCalendar(); };
    </script>
</body>
</html>
